<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/section.css">
    <title>情境體驗(三)</title>
</head>
<body>
    <div class="container">
    <div class="little-container">
        <div class="title">情境體驗(三)</div>
        <div id="typing1"> </div>
        <div class="libra" id="libra">
          <div class="people">          
            <div class="boy" id="boy" onclick="judge('boy')"></div>
           <div class="girl" id="girl" onclick="judge('girl')"></div>
          </div>

          <div class="bridge" id="bridge"><div class="sendbtn" id="sendbtn" onclick="send()">送出</div></div>
        </div>
        <a href="./section4.html" class="next" id="next" style="display: none;">下一關</a>
    </div>
</div>

<script>
        var str = '地檢署108年執行酒駕案件裁判確定有罪人數，你認為男性多？還是女性多？<sapn style="color: yellow">(先點選性別，再送出)</span>';
        var i = 0;
          // var str = 1
        function typing() {
            var divTyping = document.getElementById('typing1');
            if (i <= str.length) {
                divTyping.innerHTML = str.slice(0, i++) + '_';
                setTimeout('typing()', 80); //遞歸調用
            } else {
                divTyping.innerHTML = str; //結束打字,移除 _ 光標   
                document.getElementById('libra').setAttribute('style', 'display:block');   
                document.getElementById('next').setAttribute('style', 'display:block'); 
            }
        }
        typing();

        function judge(sextype){
            var sex = document.getElementById(sextype);
            if (sextype == 'boy'){
                document.getElementById("girl").classList.remove("circle");
            }else{
              document.getElementById("boy").classList.remove("circle");
            }
            if (sex.classList.length > 1) {
              sex.classList.remove("circle");
            }else{
              sex.classList.add("circle");
            }
        }

        function send(){
          var send = document.getElementById("sendbtn");
          var boy = document.getElementById("boy");
          var girl = document.getElementById("girl");

          if(boy.classList.length == 1 & girl.classList.length == 1){
            alert("請先選擇性別");
          }else{
            var bridge = document.getElementById("bridge");
            var send = document.getElementById("sendbtn");
            bridge.setAttribute("style", "transform:rotate(5deg)");
            send.setAttribute("style", "transform:rotate(-5deg)");
            girl.setAttribute("style", "transform:translate(0, 40px)")
            boy.setAttribute("style", "transform:translate(0, -30px)")
            boy.classList.remove("circle");
            girl.classList.remove("circle");
            send.setAttribute("style", "display:none");
          }
        }

</script>

</body>
</html>