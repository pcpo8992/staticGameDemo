<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/section3.css">
    <title>特徵通-性別</title>
</head>
<body>
<div class="container">
  <div class="little-container">
      <div class="title">特徵通-性別</div>
      <div class="question1">
          <div class="left"><img src="../image/lin2.png" alt=""></div>
          <div class="right" id="main">
              <div class="upper" id="typing1"></div>
              <div class="middle" id ="middle" style="display: none;"></div>
              <div class="down" id ="question1" style="display: none;">
                  <div class="libra" id="libra">
                     <div class="people">          
                        <div class="boy" id="boy" onclick="judge('boy')"></div>
                        <div class="girl" id="girl" onclick="judge('girl')"></div>
                      </div>
                    <div class="bridge" id="bridge"><div class="sendbtn" id="sendbtn" onclick="send()">送出</div></div>
                </div>
                
          </div>
          <a href="section4.html"><div class=" nextgame" style="display:none" >下一關</div></a>
          <div class="modal" style="display: none;" id="fault">
            <div class="modal-content">
                <span class="close" id="faultclose">&times;</span>
                <p class="fault"><i class="fas fa-times"></i>      答錯囉</p>
                <div onclick="showAnswer()">看解答</div>
              </div>
        </div>
        <div class="modal" style="display: none;" id="right">
            <div class="modal-content">
                <span class="close" id="rightclose">&times;</span>
                <p class="right"><i class="far fa-thumbs-up"></i>      答對了</p>
                <div onclick="showAnswer()">看解答</div>
              </div>
        </div>
      </div>
  </div>
</div>

<script>
        var str = '那你猜猜，這些被判有罪的人中，男性多還是女性多？';
        var i = 0;
          // var str = 1
        function typing() {
            var divTyping = document.getElementById('typing1');
            if (i <= str.length) {
                divTyping.innerHTML = str.slice(0, i++) + '_';
                setTimeout('typing()', 80); //遞歸調用
            } else {
                divTyping.innerHTML = str; //結束打字,移除 _ 光標   
                document.querySelector('#question1').setAttribute('style', 'display:flex');   
            }
        }
        typing();

        function judge(sextype){
            var sex = document.getElementById(sextype);
            if (sextype == 'boy'){
                document.getElementById("girl").classList.remove("circle");
            }else{
              document.getElementById("boy").classList.remove("circle");
            }
            if (sex.classList.length > 1) {
              sex.classList.remove("circle");
            }else{
              sex.classList.add("circle");
            }
        }

        function send(){
          var send = document.getElementById("sendbtn");
          var boy = document.getElementById("boy");
          var girl = document.getElementById("girl");

          if(boy.classList.length == 1 & girl.classList.length == 1){
            alert("請先選擇性別");
          }else{
            var bridge = document.getElementById("bridge");
            var send = document.getElementById("sendbtn");
            bridge.setAttribute("style", "transform:rotate(5deg)");
            send.setAttribute("style", "transform:rotate(-5deg)");
            girl.setAttribute("style", "transform:translate(0, 40px)")
            boy.setAttribute("style", "transform:translate(0, -30px)")
            boy.classList.remove("circle");
            girl.classList.remove("circle");
            send.setAttribute("style", "display:none");
            document.querySelector(".nextgame").setAttribute("style", "display:block");
            
          }
        }

        // Get the <span> element that closes the modal
          var rightclose = document.getElementById("rightclose");
        var faultclose = document.getElementById("faultclose");

        // When the user clicks on the button, open the modal

        // When the user clicks on <span> (x), close the modal
        rightclose.onclick = function() {
             var modal = document.getElementById("right");
             modal.style.display = "none";
        };
        faultclose.onclick = function() {
             var modal = document.getElementById("fault");
             modal.style.display = "none";
        };

        window.onclick = function(event) {
            var right = document.getElementById("right");
            var fault = document.getElementById("fault");
            if (event.target == right) {
                right.style.display = "none";
            }
            if (event.target == fault) {
                fault.style.display = "none";
            }
        }

</script>

</body>
</html>